# Test configuration using AWS CSP profile
# Run with: AWS_PROFILE=csp ./_build/elastic-collector-components --config ./receiver/verifierreceiver/testdata/test-csp-profile.yaml

receivers:
  verifier:
    cloud_connector_id: "cc-test-csp"
    cloud_connector_name: "CSP Profile Test"
    verification_id: "verify-csp-001"
    verification_type: "on_demand"
    
    # Provider credentials - using default AWS credentials from environment/profile
    providers:
      aws:
        credentials:
          use_default_credentials: true
          default_region: "us-east-1"
    
    policies:
      - policy_id: "policy-aws-test"
        policy_name: "AWS Test Policy"
        integrations:
          - integration_id: "int-cloudtrail-001"
            integration_type: "aws_cloudtrail"
            integration_name: "AWS CloudTrail"
            config:
              region: "us-east-1"

exporters:
  debug:
    verbosity: detailed

service:
  pipelines:
    logs:
      receivers: [verifier]
      exporters: [debug]
